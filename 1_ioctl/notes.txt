On Linux-based systems the size of a block special device can be obtained using the ioctl request BLKGETSIZE.

 It returns the device size as a number of 512-byte blocks
